{% extends 'base.html' %}
{% load static %}
{% block content %}
    <div class="container">
        <div class="tool-card">
            <h1 class="title">PDF Compressor</h1>
            <p class="subtitle">Bulk compress multiple PDFs to a specific target size.</p>

            <div class="upload-box" id="dropZone">
                <p style="font-size: 1.1em; margin: 0;">ðŸ“„ Drop multiple PDFs here or click to browse</p>
                <div id="fileNames" class="file-list-preview"></div>
                <input type="file" id="fileInput" accept="application/pdf" multiple style="display:none">
            </div>

            <div class="settings-grid">
                <div class="input-group">
                    <label for="targetSize">Target Size (KB) per file:</label>
                    <input type="number" id="targetSize" value="500" min="10">
                </div>
                <div class="input-group">
                    <label>Optimization Mode:</label>
                    <input type="text" value="High Compression" disabled style="opacity: 0.6;">
                </div>
            </div>

            <button class="btn" id="processBtn" disabled>Compress All PDFs</button>

            <div id="loader" style="display:none; text-align: center; margin-top: 20px;">
                <div class="loading-spinner"></div>
                <p id="statusMsg" style="font-size: 0.9em; color: #ccc;">Starting process...</p>
            </div>

            <div id="resultSection">
                <div class="result-header">
                    <h3 style="color: #ff9933; margin: 0;">Compressed Results</h3>
                    <button id="downloadAllBtn" class="btn btn-zip" style="display: none;">
                        ðŸ“¦ Download All (.ZIP)
                    </button>
                </div>
                
                <div id="resultsList"></div>
                
                <button class="btn" style="background:#4a5a73; margin-top: 20px;" onclick="location.reload()">
                    Clear & Start Over
                </button>
            </div>
        </div>
    </div>
    <script src="{% static 'script/pdf_shrink.js' %}" ></script>
    {% endblock %}